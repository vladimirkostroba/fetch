{"mappings":"AAKE,IAAIA,EAAiB,CACnBC,OAAQ,MACRC,QAPY,IAAIC,QAAQ,CACxB,eAAgB,mBAChB,YAAa,0EAMbC,SAAU,UCAP,SAASC,GAAeC,IAACA,EAAGC,OAACA,IAChC,MAAO,sCACGD,0EAEUC,EAAO,GAAGC,yCACLD,EAAO,GAAGE,mEACUF,EAAO,GAAGG,qC,CCX3D,MAAMC,EAAO,CACTC,OAAOC,SAASC,cAAc,iBAC9BC,QAAQF,SAASC,cAAc,aAC/BE,OAAOH,SAASC,cAAc,YFMvBG,MAAM,sCAAsCjB,GAClDkB,MAAKC,GAAYA,EAASC,SAC1BC,OAAOC,GAAUC,MAAMD,KEF3BJ,MAAKX,IACFI,EAAKC,OAAOY,mBAAmB,YAA0BjB,EDZtCkB,KAAI,EAACC,GAACA,EAAElB,KAACA,KAC3B,kBAAkBkB,MAAOlB,eACxBmB,KAAK,ICU0D,IAKrEhB,EAAKC,OAAOgB,iBAAiB,UAAU,SAAUC,GAC7ClB,EAAKI,QAAQe,UAAY,GAEzB,MAAMC,EAAcF,EAAEG,OAAOC,MFJxB,IAAyBC,KEKdH,EFJTd,MAAM,wDAAwDiB,IAAUlC,GAC9EkB,MAAKC,GAAYA,EAASC,SAC1BF,MAAKiB,GAAOA,EAAI,KAChBd,OAAOC,GAAUC,MAAMD,MEEvBJ,MAAKkB,IACFzB,EAAKI,QAAQS,mBAAmB,YAAYnB,EAAe+B,IAC3DzB,EAAKK,OAAOqB,UAAUC,OAAO,WAAW,IAE3CC,SAAQ,KAAO5B,EAAKK,OAAOqB,UAAUG,IAAI,WAAW,G","sources":["src/js/cat-api.js","src/js/tamplates.js","src/index.js"],"sourcesContent":["const headers = new Headers({\n    \"Content-Type\": \"application/json\",\n    \"x-api-key\": \"live_omBlQNpPScjpsFe3GFCHVDe9VKvhdUEf6WqVvYam0wtyPOIXJQ3AT97wO8a2YSFC\"\n  });\n  \n  var requestOptions = {\n    method: 'GET',\n    headers: headers,\n    redirect: 'follow'\n  }; \n\n  export function fetchBreeds(){\n    return fetch('https://api.thecatapi.com/v1/breeds',requestOptions)\n    .then(response => response.json())\n    .catch((error) => alert(error))\n  }\n\n  export function fetchCatByBreed(breedId){\n    return fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`,requestOptions)\n    .then(response => response.json())\n    .then(res => res[0])\n    .catch((error) => alert(error))\n  }\n\n  \n\n","export function breedsHandler(arr){\n    const markup = arr.map(({id,name}) => \n     `<option value=\"${id}\">${name}</option>`\n    ).join('')\n\n    return markup\n}\n\nexport function catInfoHandler({url,breeds}){\n    return `<div class=\"overlay\">\n  <img src=\"${url}\" alt=\"img\" width=\"400\">\n  <div class=\"info\">\n    <h2 class=\"title\">${breeds[0].name}</h2>\n    <p class=\"description\">${breeds[0].description}</p>\n    <p class=\"temperament\"><b>Temperament:</b> ${breeds[0].temperament}</p>\n  </div>\n  </div>`\n}\n","import {fetchBreeds,fetchCatByBreed} from './js/cat-api'\nimport {breedsHandler,catInfoHandler} from './js/tamplates'\n\nconst refs = {\n    select:document.querySelector('.breed-select'),\n    catInfo:document.querySelector('.cat-info'),\n    loader:document.querySelector('.loader'),\n}\n\n// \n\nfetchBreeds()\n.then(breeds => {\n    refs.select.insertAdjacentHTML('beforeend',breedsHandler(breeds))\n})\n\n// \n\nrefs.select.addEventListener('change', function (e) {\n    refs.catInfo.innerHTML = '';\n\n    const searchQuery = e.target.value\n    fetchCatByBreed(searchQuery)\n    .then(cat => { \n        refs.catInfo.insertAdjacentHTML('beforeend',catInfoHandler(cat))\n        refs.loader.classList.remove('is-hiden');\n    })\n    .finally(() => {refs.loader.classList.add('is-hiden')})\n});\n\n"],"names":["$c4ebbd28ee7007ee$var$requestOptions","method","headers","Headers","redirect","$6dd1365f39a7003c$export$cbdfadada7d42d49","url","breeds","name","description","temperament","$1f0dc3b9307be026$var$refs","select","document","querySelector","catInfo","loader","fetch","then","response","json","catch","error","alert","insertAdjacentHTML","map","id","join","addEventListener","e","innerHTML","searchQuery","target","value","breedId","res","cat","classList","remove","finally","add"],"version":3,"file":"index.38cec7c9.js.map"}